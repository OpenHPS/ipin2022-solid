(function(){var A={47376:function(A,e,t){"use strict";t.r(e),t.d(e,{default:function(){return kA}});var n={};t.r(n),t.d(n,{building:function(){return rA},classroom:function(){return lA},elevators:function(){return yA},floor:function(){return oA},hallway:function(){return pA},lab:function(){return cA},lobby:function(){return uA},lobby2:function(){return gA},office1:function(){return iA},office2:function(){return sA},office3:function(){return aA},office4:function(){return dA},stairs:function(){return fA},toilet1:function(){return hA},toilet2:function(){return mA}});var r=function(){var A=this,e=A.$createElement,t=A._self._c||e;return t("div",{attrs:{id:"app"}},[t("ScannerComponent")],1)},o=[],i=function(){var A=this,e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app"},[n("MenuComponent",{attrs:{controller:e.controller,title:e.title}}),"off"===this.camera?n("b-button",{attrs:{disabled:this.processing,id:"scanBtn",size:"is-large","icon-left":"fa-solid fa-qrcode",label:"Scan",type:"is-primary",outlined:""},on:{click:function(){A.camera="auto"}}}):e._e(),"off"!=this.camera?n("QrcodeStream",{attrs:{camera:this.camera,track:this.paintOutline},on:{decode:this.onDecode}}):e._e(),n("LoginModal",{attrs:{controller:e.controller}}),n("b-loading",{attrs:{"is-full-page":!0,"can-cancel":!1},model:{value:e.processing,callback:function(A){e.processing=A},expression:"processing"}})],1)},s=[],a=(t(50340),{name:"LoginModal",props:["controller"],data(){return{issuer:null,active:!0,knownIssuers:["https://solidweb.org/","https://broker.pod.inrupt.com/","https://solidcommunity.net/"]}},methods:{login(){this.controller.login(this.issuer)}},mounted(){this.controller.once("ready",(()=>{this.active=!1}))}});function d(A,e,t,n,r,o,i,s,a,d){"boolean"!==typeof i&&(a=s,s=i,i=!1);const c="function"===typeof t?t.options:t;let l;if(A&&A.render&&(c.render=A.render,c.staticRenderFns=A.staticRenderFns,c._compiled=!0,r&&(c.functional=!0)),n&&(c._scopeId=n),o?(l=function(A){A=A||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,A||"undefined"===typeof __VUE_SSR_CONTEXT__||(A=__VUE_SSR_CONTEXT__),e&&e.call(this,a(A)),A&&A._registeredComponents&&A._registeredComponents.add(o)},c._ssrRegister=l):e&&(l=i?function(A){e.call(this,d(A,this.$root.$options.shadowRoot))}:function(A){e.call(this,s(A))}),l)if(c.functional){const A=c.render;c.render=function(e,t){return l.call(t),A(e,t)}}else{const A=c.beforeCreate;c.beforeCreate=A?[].concat(A,l):[l]}return t}const c="undefined"!==typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function l(A){return(A,e)=>g(A,e)}let p;const u={};function g(A,e){const t=c?e.media||"default":A,n=u[t]||(u[t]={ids:new Set,styles:[]});if(!n.ids.has(A)){n.ids.add(A);let t=e.source;if(e.map&&(t+="\n/*# sourceURL="+e.map.sources[0]+" */",t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),n.element||(n.element=document.createElement("style"),n.element.type="text/css",e.media&&n.element.setAttribute("media",e.media),void 0===p&&(p=document.head||document.getElementsByTagName("head")[0]),p.appendChild(n.element)),"styleSheet"in n.element)n.styles.push(t),n.element.styleSheet.cssText=n.styles.filter(Boolean).join("\n");else{const A=n.ids.size-1,e=document.createTextNode(t),r=n.element.childNodes;r[A]&&n.element.removeChild(r[A]),r.length?n.element.insertBefore(e,r[A]):n.element.appendChild(e)}}}const h=a;var m=function(){var A=this,e=A.$createElement,t=A._self._c||e;return t("b-modal",{attrs:{active:A.active,"has-modal-card":"","can-cancel":!1,"aria-role":"dialog","aria-label":"Solid Login","aria-modal":""}},[t("form",{attrs:{action:""},on:{submit:function(e){e.preventDefault(),A.login()}}},[t("div",{staticClass:"modal-card",staticStyle:{width:"100%","min-width":"300px"}},[t("header",{staticClass:"modal-card-head"},[t("p",{staticClass:"modal-card-title"},[A._v("Login to Solid Provider")])]),A._v(" "),t("section",{staticClass:"modal-card-body"},[t("b-field",{attrs:{label:"Solid Issuer"}},[t("b-autocomplete",{attrs:{type:"url",data:A.knownIssuers,placeholder:"Your Solid Issuer",clearable:"",required:""},on:{select:function(e){return A.selected=e}},model:{value:A.issuer,callback:function(e){A.issuer=e},expression:"issuer"}})],1)],1),A._v(" "),t("footer",{staticClass:"modal-card-foot"},[t("b-button",{attrs:{label:"Login",type:"is-primary"},on:{click:A.login}})],1)])])])},y=[];const f=function(A){A&&A("data-v-458c8c1b_0",{source:".modal .animation-content .modal-card[data-v-458c8c1b]{overflow:visible!important}.modal-card-body[data-v-458c8c1b]{overflow:visible!important}",map:void 0,media:void 0})},v="data-v-458c8c1b",w=void 0,b=!1,I=d({render:m,staticRenderFns:y},f,h,v,b,w,!1,l,void 0,void 0);var C=I,P={name:"MenuComponent",props:["controller","title"],data(){return{isLoggedIn:!1}},mounted(){this.controller.once("ready",(()=>{this.isLoggedIn=!0}))},methods:{logout(){this.controller.logout(),window.location=window.location}}};const S=P;var D=function(){var A=this,e=A.$createElement,t=A._self._c||e;return t("b-navbar",{attrs:{"fixed-top":!0,type:"is-primary",shadow:!0},scopedSlots:A._u([{key:"brand",fn:function(){return[t("b-navbar-item",[t("h1",[A._v(A._s(A.title))])])]},proxy:!0},{key:"start",fn:function(){return[t("b-navbar-dropdown",{attrs:{label:"Applications"}},[t("b-navbar-item",{attrs:{href:"../consumer/"}},[A._v("\n        Consumer application\n      ")]),A._v(" "),t("b-navbar-item",{attrs:{href:"../geolocationapi/"}},[A._v("\n        Geolocation API\n      ")]),A._v(" "),t("b-navbar-item",{attrs:{href:"../qrscanner/"}},[A._v("\n        QR-scanner\n      ")])],1)]},proxy:!0},{key:"end",fn:function(){return[t("b-navbar-item",{attrs:{tag:"div"}},[t("div",{staticClass:"buttons"},[A.isLoggedIn?t("a",{staticClass:"button is-light",on:{click:A.logout}},[A._v("\n                Log out\n            ")]):A._e()])])]},proxy:!0}])})},E=[];const O=void 0,F=void 0,B=void 0,R=!1,Z=d({render:D,staticRenderFns:E},O,S,F,R,B,!1,void 0,void 0,void 0);var N=Z;t(7780);var L=t(23796),_=t(80313),Q=t(13294),M=t(38638),q=t(97365),x=t(44654);let T=class extends x.OD{constructor(...A){super(...A),(0,L.Z)(this,"label",void 0),(0,L.Z)(this,"comment",void 0),(0,L.Z)(this,"featureOfInterest",void 0)}};(0,_.gn)([(0,Q._J)({rdf:{predicate:M.Zv.label,language:"en"}}),(0,_.w6)("design:type",String)],T.prototype,"label",void 0),(0,_.gn)([(0,Q._J)({rdf:{predicate:M.Zv.comment,language:"en"}}),(0,_.w6)("design:type",String)],T.prototype,"comment",void 0),(0,_.gn)([(0,Q._J)({rdf:{predicate:M.Nj.isPropertyOf,serializer:A=>q.DataFactory.namedNode(A),deserializer:A=>A.value}}),(0,_.w6)("design:type",String)],T.prototype,"featureOfInterest",void 0),T=(0,_.gn)([(0,Q.iN)({rdf:{type:M.tZ.ObservableProperty}})],T);let J=class extends x.OD{constructor(...A){super(...A),(0,L.Z)(this,"label",void 0),(0,L.Z)(this,"comment",void 0),(0,L.Z)(this,"properties",[])}};(0,_.gn)([(0,Q._J)({rdf:{predicate:M.Zv.label,language:"en"}}),(0,_.w6)("design:type",String)],J.prototype,"label",void 0),(0,_.gn)([(0,Q._J)({rdf:{predicate:M.Zv.comment,language:"en"}}),(0,_.w6)("design:type",String)],J.prototype,"comment",void 0),(0,_.gn)([(0,Q.hZ)(T,{rdf:{predicate:M.Nj.hasProperty}}),(0,_.w6)("design:type",Array)],J.prototype,"properties",void 0),J=(0,_.gn)([(0,Q.iN)({rdf:{type:M.tZ.FeatureOfInterest}})],J);let j=class extends x.OD{constructor(...A){super(...A),(0,L.Z)(this,"resultTime",void 0),(0,L.Z)(this,"featuresOfInterest",[]),(0,L.Z)(this,"observedProperties",[]),(0,L.Z)(this,"results",[]),(0,L.Z)(this,"usedProcedures",[])}};(0,_.gn)([(0,Q._J)({rdf:{predicate:M.tZ.resultTime,datatype:x.eF.dateTime}}),(0,_.w6)("design:type",Date)],j.prototype,"resultTime",void 0),(0,_.gn)([(0,Q.hZ)(J,{rdf:{predicate:M.tZ.hasFeatureOfInterest}}),(0,_.w6)("design:type",Array)],j.prototype,"featuresOfInterest",void 0),(0,_.gn)([(0,Q.hZ)(T,{rdf:{predicate:M.tZ.observedProperty}}),(0,_.w6)("design:type",Array)],j.prototype,"observedProperties",void 0),(0,_.gn)([(0,Q.hZ)(Object,{rdf:{predicate:M.tZ.hasResult}}),(0,_.w6)("design:type",Array)],j.prototype,"results",void 0),(0,_.gn)([(0,Q.hZ)(String,{rdf:{predicate:M.tZ.usedProcedure,serializer:A=>x.xZ.namedNode(A),deserializer:A=>A.value}}),(0,_.w6)("design:type",Array)],j.prototype,"usedProcedures",void 0),j=(0,_.gn)([(0,Q.iN)({rdf:{type:M.tZ.Observation}})],j);let G=class{constructor(){(0,L.Z)(this,"unit",void 0),(0,L.Z)(this,"numericValue",void 0)}};(0,_.gn)([(0,Q._J)({rdf:{predicate:M.wY.unit}}),(0,_.w6)("design:type",Q.fb)],G.prototype,"unit",void 0),(0,_.gn)([(0,Q._J)({rdf:{predicate:M.wY.numericValue}}),(0,_.w6)("design:type",Number)],G.prototype,"numericValue",void 0),G=(0,_.gn)([(0,Q.iN)({rdf:{type:M.wY.QuantityValue}})],G);let k=class{constructor(){(0,L.Z)(this,"spatialAccuracy",void 0)}};(0,_.gn)([(0,Q._J)({rdf:{predicate:M.p7.hasSpatialAccuracy}}),(0,_.w6)("design:type",G)],k.prototype,"spatialAccuracy",void 0),k=(0,_.gn)([(0,Q.iN)({rdf:{type:M.p7.Geometry}})],k);const V="http://purl.org/ipin2022-solid#";let U=class extends k{constructor(...A){super(...A),(0,L.Z)(this,"latitude",void 0),(0,L.Z)(this,"longitude",void 0),(0,L.Z)(this,"altitude",void 0),(0,L.Z)(this,"inDeployment",void 0)}};(0,_.gn)([(0,Q._J)({rdf:{predicate:`${V}inDeployment`,serializer:A=>q.DataFactory.namedNode(A),deserializer:A=>A.value}}),(0,_.w6)("design:type",String)],U.prototype,"inDeployment",void 0),U=(0,_.gn)([(0,Q.iN)({rdf:{type:M.p7.Geometry,serializer:A=>({predicates:{[M.p7.asWKT]:[A.altitude?q.DataFactory.literal(`POINT Z(${A.longitude} ${A.latitude} ${A.altitude})`,q.DataFactory.namedNode(M.p7.wktLiteral)):q.DataFactory.literal(`POINT(${A.longitude} ${A.latitude})`,q.DataFactory.namedNode(M.p7.wktLiteral))],[M.p7.coordinateDimension]:[q.DataFactory.literal(A.altitude?3:2)],[M.p7.spatialDimension]:[q.DataFactory.literal(A.altitude?3:2)],[M.p7.dimension]:[q.DataFactory.literal(A.altitude?3:2)]}})}})],U);let H=class extends k{constructor(...A){super(...A),(0,L.Z)(this,"coords",[])}};H=(0,_.gn)([(0,Q.iN)({rdf:{type:M.p7.Geometry,serializer:A=>({predicates:{[M.p7.asWKT]:[q.DataFactory.literal(`POLYGON Z((${A.coords.map((A=>`${A.longitude} ${A.latitude} ${A.altitude}`)).join(", ")}))`,q.DataFactory.namedNode(M.p7.wktLiteral))],[M.p7.coordinateDimension]:[q.DataFactory.literal(3)],[M.p7.spatialDimension]:[q.DataFactory.literal(3)],[M.p7.dimension]:[q.DataFactory.literal(3)]}})}})],H);let Y=class extends x.OD{constructor(...A){super(...A),(0,L.Z)(this,"label",void 0),(0,L.Z)(this,"comment",void 0)}};(0,_.gn)([(0,Q._J)({rdf:{predicate:M.Zv.label,language:"en"}}),(0,_.w6)("design:type",String)],Y.prototype,"label",void 0),(0,_.gn)([(0,Q._J)({rdf:{predicate:M.Zv.comment,language:"en"}}),(0,_.w6)("design:type",String)],Y.prototype,"comment",void 0),Y=(0,_.gn)([(0,Q.iN)({rdf:{type:M.tZ.Procedure}})],Y);let K=class extends x.OD{constructor(...A){super(...A),(0,L.Z)(this,"label",void 0),(0,L.Z)(this,"comment",void 0)}};(0,_.gn)([(0,Q._J)({rdf:{predicate:M.Zv.label,language:"en"}}),(0,_.w6)("design:type",String)],K.prototype,"label",void 0),(0,_.gn)([(0,Q._J)({rdf:{predicate:M.Zv.comment,language:"en"}}),(0,_.w6)("design:type",String)],K.prototype,"comment",void 0),K=(0,_.gn)([(0,Q.iN)({rdf:{type:M.tZ.Platform}})],K);let z=class{constructor(){(0,L.Z)(this,"street",void 0),(0,L.Z)(this,"country",void 0)}};(0,_.gn)([(0,Q._J)({rdf:{predicate:M.w_.street_address}}),(0,_.w6)("design:type",String)],z.prototype,"street",void 0),(0,_.gn)([(0,Q._J)({rdf:{predicate:M.w_.country_name}}),(0,_.w6)("design:type",String)],z.prototype,"country",void 0),z=(0,_.gn)([(0,Q.iN)({rdf:{type:M.w_.Address}})],z);var W=t(91233);let X=class extends W.OD{constructor(...A){super(...A),(0,L.Z)(this,"label",void 0),(0,L.Z)(this,"comment",void 0),(0,L.Z)(this,"platform",void 0),(0,L.Z)(this,"geometry",void 0),(0,L.Z)(this,"address",void 0),(0,L.Z)(this,"within",void 0)}};var $;(0,_.gn)([(0,Q._J)({rdf:{predicate:M.Zv.label,language:"en"}}),(0,_.w6)("design:type",String)],X.prototype,"label",void 0),(0,_.gn)([(0,Q._J)({rdf:{predicate:M.Zv.comment,language:"en"}}),(0,_.w6)("design:type",String)],X.prototype,"comment",void 0),(0,_.gn)([(0,Q._J)({rdf:{predicate:M.Nj.deployedOnPlatform,language:"en"}}),(0,_.w6)("design:type",K)],X.prototype,"platform",void 0),(0,_.gn)([(0,Q._J)({rdf:{predicate:M.p7.hasGeometry}}),(0,_.w6)("design:type",H)],X.prototype,"geometry",void 0),(0,_.gn)([(0,Q._J)({rdf:{predicate:M.w_.hasAddress}}),(0,_.w6)("design:type",z)],X.prototype,"address",void 0),(0,_.gn)([(0,Q._J)({rdf:{predicate:M.p7.sfWithin}}),(0,_.w6)("design:type",X)],X.prototype,"within",void 0),X=(0,_.gn)([(0,Q.iN)({rdf:{type:[M.Nj.Deployment,M.p7.SpatialObject]}})],X);let AA=$=class extends x.OD{constructor(...A){super(...A),(0,L.Z)(this,"label",void 0),(0,L.Z)(this,"comment",void 0),(0,L.Z)(this,"deployment",void 0),(0,L.Z)(this,"subSystems",[]),(0,L.Z)(this,"procedures",[])}};(0,_.gn)([(0,Q._J)({rdf:{predicate:M.Zv.label,language:"en"}}),(0,_.w6)("design:type",String)],AA.prototype,"label",void 0),(0,_.gn)([(0,Q._J)({rdf:{predicate:M.Zv.comment,language:"en"}}),(0,_.w6)("design:type",String)],AA.prototype,"comment",void 0),(0,_.gn)([(0,Q._J)({rdf:{predicate:M.Nj.hasDeployment,language:"en"}}),(0,_.w6)("design:type",X)],AA.prototype,"deployment",void 0),(0,_.gn)([(0,Q.hZ)($,{rdf:{predicate:M.Nj.hasSubSystem}}),(0,_.w6)("design:type",Array)],AA.prototype,"subSystems",void 0),(0,_.gn)([(0,Q.hZ)(Y,{rdf:{predicate:M.Nj._implements}}),(0,_.w6)("design:type",Array)],AA.prototype,"procedures",void 0),AA=$=(0,_.gn)([(0,Q.iN)({rdf:{type:M.Nj.System}})],AA);let eA=class extends x.OD{constructor(...A){super(...A),(0,L.Z)(this,"label",void 0),(0,L.Z)(this,"comment",void 0),(0,L.Z)(this,"forProperty",void 0),(0,L.Z)(this,"minValue",void 0),(0,L.Z)(this,"maxValue",void 0),(0,L.Z)(this,"unit",void 0)}};(0,_.gn)([(0,Q._J)({rdf:{predicate:M.Zv.label,language:"en"}}),(0,_.w6)("design:type",String)],eA.prototype,"label",void 0),(0,_.gn)([(0,Q._J)({rdf:{predicate:M.Zv.comment,language:"en"}}),(0,_.w6)("design:type",String)],eA.prototype,"comment",void 0),(0,_.gn)([(0,Q._J)({rdf:{predicate:M.Nj.forProperty}}),(0,_.w6)("design:type",T)],eA.prototype,"forProperty",void 0),(0,_.gn)([(0,Q._J)({rdf:{predicate:M.fK.minValue}}),(0,_.w6)("design:type",Number)],eA.prototype,"minValue",void 0),(0,_.gn)([(0,Q._J)({rdf:{predicate:M.fK.maxValue}}),(0,_.w6)("design:type",Number)],eA.prototype,"maxValue",void 0),(0,_.gn)([(0,Q._J)({rdf:{predicate:M.fK.unitCode}}),(0,_.w6)("design:type",Q.fb)],eA.prototype,"unit",void 0),eA=(0,_.gn)([(0,Q.iN)({rdf:{type:M.gL.Accuracy}})],eA);let tA=class{constructor(A){(0,L.Z)(this,"uri",void 0),(0,L.Z)(this,"label",void 0),(0,L.Z)(this,"comment",void 0),(0,L.Z)(this,"domain",void 0),(0,L.Z)(this,"range",void 0),this.uri=A}};(0,_.gn)([(0,Q._J)({rdf:{identifier:!0}}),(0,_.w6)("design:type",String)],tA.prototype,"uri",void 0),(0,_.gn)([(0,Q._J)({rdf:{predicate:M.Zv.label,language:"en"}}),(0,_.w6)("design:type",String)],tA.prototype,"label",void 0),(0,_.gn)([(0,Q._J)({rdf:{predicate:M.Zv.comment,language:"en"}}),(0,_.w6)("design:type",String)],tA.prototype,"comment",void 0),(0,_.gn)([(0,Q._J)({rdf:{predicate:M.Zv.domain}}),(0,_.w6)("design:type",String)],tA.prototype,"domain",void 0),(0,_.gn)([(0,Q._J)({rdf:{predicate:M.Zv.range}}),(0,_.w6)("design:type",String)],tA.prototype,"range",void 0),tA=(0,_.gn)([(0,Q.iN)({rdf:{type:M.MN.ObjectProperty}}),(0,_.w6)("design:paramtypes",[String])],tA);var nA=t(24408);const rA=new nA.Nc("PL9").setUID("deployment_pl9").setBounds({topLeft:new Q.sX(50.8203726927966,4.392241309019189,83),width:46.275,height:37.27,rotation:-34.04}),oA=new nA.OR("PL9.3").setUID("deployment_pl9_3").setBuilding(rA).setBounds([new Q.Sb(0,0),new Q.Sb(0,13.73),new Q.Sb(10.102,13.73),new Q.Sb(10.102,23.54),new Q.Sb(0,23.54),new Q.Sb(0,37.27),new Q.Sb(44.33,37.27),new Q.Sb(44.33,23.54),new Q.Sb(28.06,23.54),new Q.Sb(28.06,13.73),new Q.Sb(44.33,13.73),new Q.Sb(44.33,0)]).setFloorNumber(3),iA=new nA.du("PL9.3.60").setUID("deployment_pl9_3_60").setFloor(oA).setBounds([new Q.Sb(.57,31.25),new Q.Sb(4.75,37.02)]),sA=new nA.du("PL9.3.58").setUID("deployment_pl9_3_58").setFloor(oA).setBounds([new Q.Sb(4.75,31.25),new Q.Sb(8.35,37.02)]),aA=new nA.du("PL9.3.56").setUID("deployment_pl9_3_56").setFloor(oA).setBounds([new Q.Sb(8.35,31.25),new Q.Sb(13.15,37.02)]),dA=new nA.du("PL9.3.32").setUID("deployment_pl9_3_32").setFloor(oA).setBounds([new Q.Sb(29.97,31.25),new Q.Sb(34.77,37.02)]),cA=new nA.du("PL9.3.54").setUID("deployment_pl9_3_54").setFloor(oA).setBounds([new Q.Sb(13.15,31.25),new Q.Sb(25.15,37.02)]),lA=new nA.du("PL9.3.62").setUID("deployment_pl9_3_62").setFloor(oA).setBounds([new Q.Sb(27.55,24.105),new Q.Sb(35.95,29.5)]),pA=new nA.CL("Corridor").setUID("deployment_pl9_3_corridor").setFloor(oA).setBounds([new Q.Sb(2.39,6.015),new Q.Sb(2.39,7.715),new Q.Sb(18.015,7.715),new Q.Sb(18.015,29.555),new Q.Sb(2.39,29.555),new Q.Sb(2.39,31.255),new Q.Sb(41.94,31.255),new Q.Sb(41.94,29.555),new Q.Sb(20.315,29.555),new Q.Sb(20.315,7.715),new Q.Sb(41.94,7.715),new Q.Sb(41.94,6.015)]),uA=new nA.ld("Lobby #1").setUID("deployment_pl9_3_lobby_1").setFloor(oA).setBounds([new Q.Sb(20.315,20.155),new Q.Sb(25.765,27.27)]),gA=new nA.ld("Lobby #2").setUID("deployment_pl9_3_lobby_2").setFloor(oA).setBounds([new Q.Sb(18.015,.57),new Q.Sb(20.315,6.015)]),hA=new nA.ld("Toilets #1").setUID("deployment_pl9_3_toilets_1").setFloor(oA).setBounds([new Q.Sb(15.48,10.51),new Q.Sb(18.015,12.71)]),mA=new nA.ld("Toilets #2").setUID("deployment_pl9_3_toilets_2").setFloor(oA).setBounds([new Q.Sb(15.48,24.56),new Q.Sb(18.015,26.76)]),yA=new nA.CL("Elevators").setUID("deployment_pl9_3_elevators").setFloor(oA).setBounds([new Q.Sb(10.73,17.22),new Q.Sb(18.02,20.06)]),fA=new nA.CL("Staircase").setUID("deployment_pl9_3_staircase").setFloor(oA).setBounds([new Q.Sb(20.315,17.22),new Q.Sb(27.56,20.06)]);var vA=t(8851),wA=t(24574),bA=t(75991),IA=t(39223),CA=t(10593);const PA=t(15515);function SA(A){return new Promise((e=>{const t=A[0],n=/^<(https?:\/\/.*)>/g,r=t.value.replace(n,"").replace("\n","").trim(),o=PA.parse(r);e(x.xZ.literal(JSON.stringify(o),M.p7.geoJSONLiteral))}))}var DA=t(25108);const EA={limit:20,fetchDeployment:!0,fetchProcedure:!0,fetchAccuracy:!0,clearCache:!0};class OA extends CA.EventEmitter{constructor(A){super(),(0,L.Z)(this,"service",void 0),(0,L.Z)(this,"me",void 0),(0,L.Z)(this,"positionProperty",void 0),(0,L.Z)(this,"orientationProperty",void 0),(0,L.Z)(this,"velocityProperty",void 0),(0,L.Z)(this,"driver",void 0),this.service=new vA.pJ({clientName:A,dataServiceDriver:new IA.w(String,{namespace:A.toLowerCase().replace(/\s/g,"_")}),restorePreviousSession:!0}),this.driver=new vA.t6(Q.Lo),this.service.emit("build"),this.service.on("login",(A=>{DA.log(`Logged in ${A.info.webId}`),this.initialize()}))}_mergeFindOptions(A){return A?{limit:void 0===A.limit?EA.limit:A.limit,fetchAccuracy:void 0===A.fetchAccuracy?EA.fetchAccuracy:A.fetchAccuracy,fetchDeployment:void 0===A.fetchDeployment?EA.fetchDeployment:A.fetchDeployment,fetchProcedure:void 0===A.fetchProcedure?EA.fetchProcedure:A.fetchProcedure,clearCache:void 0===A.clearCache?EA.clearCache:A.clearCache}:EA}get isLoggedIn(){return void 0!==this.getSession()&&this.getSession().info.isLoggedIn}getPropertyURI(A,e){return this.service.getDocumentURL(A,`/properties/${e}.ttl`).href}async login(A){await this.service.login(A)}async logout(){await this.service.logout(this.getSession())}getSession(){return this.service.session}async initialize(){const A=this.getSession(),e=await this.service.getThing(A,A.info.webId),t=((0,bA.gPA)(e,M.w_.fn)??(0,bA.gPA)(e,M.ay.name)).value;this.me=new J(A.info.webId),this.positionProperty=new T(this.getPropertyURI(A,"position")),this.positionProperty.comment=`Geographical position of ${t}`,this.positionProperty.label="Geographical Position",this.positionProperty.featureOfInterest=this.me.value;const n=new eA(this.getPropertyURI(A,"position")+"#accuracy");if(n.unit=Q.MD.METER,n.minValue=-1,n.minValue=1,n.forProperty=this.positionProperty,n.label="Maximum accuracy",n.comment="The maximum accuracy for the geographical position",this.orientationProperty=new T(this.getPropertyURI(A,"orientation")),this.orientationProperty.comment=`Orientation of ${t}`,this.orientationProperty.label="Orientation",this.orientationProperty.featureOfInterest=this.me.value,this.velocityProperty=new T(this.getPropertyURI(A,"velocity")),this.velocityProperty.comment=`Velocity of ${t}`,this.velocityProperty.label="Velocity",this.velocityProperty.featureOfInterest=this.me.value,this.me.properties.push(this.positionProperty),this.me.properties.push(this.orientationProperty),this.me.properties.push(this.velocityProperty),e.predicates[M.Nj.hasProperty]||void 0===e)return DA.log("Properties already exist!",this.me.id),void this.emit("ready");{const e=x.HW.serializeToSubjects(this.me);e.forEach((e=>{this.service.setThing(A,e)})),this.service.setThing(A,x.HW.serializeToSubjects(n)[0])}DA.log("Created properties for",this.me.id),this.emit("ready")}listen(){return new Promise(((A,e)=>{const t=this.getPropertyURI(this.getSession(),"position"),n=this.getPropertyURI(this.getSession(),"velocity"),r=this.getPropertyURI(this.getSession(),"orientation");this.service.getDatasetSubscription(this.getSession(),t).then((e=>{e.subscribe(n),e.subscribe(r),e.on("update",(A=>{switch(A.trim()){case t:this.emit("newPosition");break;case n:this.emit("newVelocity");break;case r:this.emit("newOrientation");break;default:break}})),A()})).catch(e)}))}async updatePosition(A){const e=this.getSession();void 0!==e&&(DA.debug("Updating position",A),A.lnglat&&this.createPosition(e,A),A.heading&&this.createOrientation(e,A),A.speed&&this.createVelocity(e,A))}findDeployment(A){return new Promise(((e,t)=>{this.driver.queryBindings(`\n                PREFIX geosparql: <http://www.opengis.net/ont/geosparql#>\n                PREFIX geof: <http://www.opengis.net/def/function/geosparql/>\n                PREFIX ssn: <http://www.w3.org/ns/ssn/>\n                PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\n                SELECT ?deploymentLabel ?deploymentGeometryJSON {\n                    <${A}> a geosparql:SpatialObject ;\n                                a ssn:Deployment ;\n                                rdfs:label ?deploymentLabel ;\n                                geosparql:hasGeometry ?deploymentGeometry .\n                    ?deploymentGeometry a geosparql:Geometry ;\n                                geosparql:asWKT ?deploymentGeometryWKT .\n                    BIND(geof:asGeoJSON(?deploymentGeometryWKT) AS ?deploymentGeometryJSON)\n                } LIMIT 1\n            `,{sources:[A.replace("http:","https:")],httpProxyHandler:new wA.ProxyHandlerStatic("https://proxy.linkeddatafragments.org/"),extensionFunctions:{"http://www.opengis.net/def/function/geosparql/asGeoJSON":SA}}).then((t=>{const n=t.map((e=>({uri:A,label:e.get("deploymentLabel")?e.get("deploymentLabel").value:void 0,geometry:e.get("deploymentGeometryJSON")?JSON.parse(e.get("deploymentGeometryJSON").value).coordinates:void 0}))).filter((A=>void 0!==A));e(n.length>0?n[0]:void 0)})).catch(t)}))}findProcedure(A){return new Promise(((e,t)=>{this.driver.queryBindings(`\n                PREFIX sosa: <http://www.w3.org/ns/sosa/>\n                PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n                PREFIX ssn: <http://www.w3.org/ns/ssn/>\n\n                SELECT ?procedureLabel ?procedureComment {\n                    <${A}> rdfs:label ?procedureLabel ;\n                    OPTIONAL { \n                        <${A}> rdfs:comment ?procedureComment ;\n                    }\n                } LIMIT 1\n            `,{sources:[A.replace("http:","https:")],httpProxyHandler:new wA.ProxyHandlerStatic("https://proxy.linkeddatafragments.org/")}).then((t=>{const n=t.map((e=>({uri:A,label:e.get("procedureLabel")?e.get("procedureLabel").value:void 0,comments:e.get("procedureComment")?e.get("procedureComment").value:void 0}))).filter((A=>void 0!==A));e(n.length>0?n[0]:void 0)})).catch(t)}))}findAllPositions(A,e){return new Promise(((t,n)=>{e=this._mergeFindOptions(e);const r=this.getPropertyURI(this.getSession(),"position");e.clearCache&&this.driver.engine.invalidateHttpCache(r),this.driver.queryBindingsSolid(`\n                PREFIX geosparql: <http://www.opengis.net/ont/geosparql#>\n                PREFIX geof: <http://www.opengis.net/def/function/geosparql/>\n                PREFIX ssn: <http://www.w3.org/ns/ssn/>\n                PREFIX sosa: <http://www.w3.org/ns/sosa/>\n                PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n                PREFIX qudt: <http://qudt.org/schema/qudt/>\n\n                SELECT ?posGeoJSON ?datetime ${e.fetchAccuracy?"?accuracy":""} \n                    ?procedure ?deployment\n                {\n                    ?observation sosa:observedProperty <${r}> ;\n                                sosa:resultTime ?datetime ;\n                                sosa:hasResult ?result .\n                    OPTIONAL {\n                        ?result <${V}inDeployment> ?deployment .\n                    }\n                    OPTIONAL {\n                        ?observation sosa:usedProcedure ?procedure .\n                    }\n                    ?result geosparql:asWKT ?posWKT .\n                    BIND(geof:asGeoJSON(?posWKT) AS ?posGeoJSON)\n                    ${e.fetchAccuracy?"?result geosparql:hasSpatialAccuracy ?spatialAccuracy .\n                        ?spatialAccuracy qudt:numericValue ?value ;\n                                        qudt:unit ?unit .\n                        OPTIONAL { ?unit qudt:conversionMultiplier ?multiplier }\n                        OPTIONAL { ?unit qudt:conversionOffset ?offset }\n                        BIND(COALESCE(?multiplier, 1) as ?multiplier)\n                        BIND(COALESCE(?offset, 0) as ?offset)\n                        BIND(((?value * ?multiplier) + ?offset) AS ?accuracy)":""}\n                    ${e.minAccuracy?`FILTER(?accuracy <= ${e.minAccuracy})`:""}\n                    ${e.procedure?`FILTER(${[...Array.isArray(e.procedure)?e.procedure:[e.procedure]].map((A=>`?procedure = <${A}>`)).join(" || ")})`:""}\n                } ORDER BY DESC(?datetime) LIMIT ${e.limit}\n            `,A,{sources:[r],httpProxyHandler:new wA.ProxyHandlerStatic("https://proxy.linkeddatafragments.org/"),extensionFunctions:{"http://www.opengis.net/def/function/geosparql/asGeoJSON":SA}}).then((async A=>Promise.all(A.map((async A=>{const t=JSON.parse(A.get("posGeoJSON").value);if(t){const n=t.coordinates,r=3===n.length?n[2]:void 0;return{latlng:n.splice(0,2),altitude:r,timestamp:Date.parse(A.get("datetime").value),accuracy:A.get("accuracy")?Number(A.get("accuracy").value):void 0,procedure:A.get("procedure")?e.fetchProcedure?await this.findProcedure(A.get("procedure").value):{uri:A.get("procedure").value}:void 0,deployment:A.get("deployment")?e.fetchDeployment?await this.findDeployment(A.get("deployment").value):{uri:A.get("deployment").value}:void 0}}}))))).then((A=>{t(A.filter((A=>void 0!==A)))})).catch(n)}))}findAllVelocities(A,e){return new Promise(((t,n)=>{e=this._mergeFindOptions(e);const r=this.getPropertyURI(this.getSession(),"velocity");e.clearCache&&this.driver.engine.invalidateHttpCache(r),this.driver.queryBindingsSolid(`\n                PREFIX ssn: <http://www.w3.org/ns/ssn/>\n                PREFIX sosa: <http://www.w3.org/ns/sosa/>\n                PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n                PREFIX qudt: <http://qudt.org/schema/qudt/>\n                PREFIX quantitykind: <http://qudt.org/vocab/quantitykind/>\n\n                SELECT ?speed ?datetime ?procedure {\n                    ?observation sosa:observedProperty <${r}> ;\n                                sosa:resultTime ?datetime ;\n                                sosa:hasResult ?result .\n                    OPTIONAL {\n                        ?observation sosa:usedProcedure ?procedure .\n                    }\n                    ?result qudt:unit ?unit ;\n                            qudt:numericValue ?speed .\n                    ?unit qudt:hasQuantityKind quantitykind:Velocity .\n                } ORDER BY DESC(?datetime) LIMIT ${e.limit}\n            `,A,{sources:[r],httpProxyHandler:new wA.ProxyHandlerStatic("https://proxy.linkeddatafragments.org/")}).then((A=>Promise.all(A.map((async A=>({speed:Number(A.get("speed").value),timestamp:Date.parse(A.get("datetime").value),procedure:A.get("procedure")?e.fetchProcedure?await this.findProcedure(A.get("procedure").value):{uri:A.get("procedure").value}:void 0,deployment:A.get("deployment")?e.fetchDeployment?await this.findDeployment(A.get("deployment").value):{uri:A.get("deployment").value}:void 0})))))).then((A=>{t(A.filter((A=>void 0!==A)))})).catch(n)}))}findAllOrientations(A,e){return new Promise(((t,n)=>{e=this._mergeFindOptions(e);const r=this.getPropertyURI(this.getSession(),"orientation");e.clearCache&&this.driver.engine.invalidateHttpCache(r),this.driver.queryBindingsSolid(`\n                PREFIX ssn: <http://www.w3.org/ns/ssn/>\n                PREFIX sosa: <http://www.w3.org/ns/sosa/>\n                PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n                PREFIX qudt: <http://qudt.org/schema/qudt/>\n                PREFIX quantitykind: <http://qudt.org/vocab/quantitykind/>\n\n                SELECT ?heading ?datetime ?procedure {\n                    ?observation sosa:observedProperty <${r}> ;\n                                sosa:resultTime ?datetime ;\n                                sosa:hasResult ?result .\n                    OPTIONAL {\n                        ?observation sosa:usedProcedure ?procedure .\n                    }\n                    ?result qudt:unit ?unit ;\n                            qudt:numericValue ?heading .\n                    ?unit qudt:hasQuantityKind quantitykind:Angle .\n                } ORDER BY DESC(?datetime) LIMIT ${e.limit}\n            `,A,{sources:[r],httpProxyHandler:new wA.ProxyHandlerStatic("https://proxy.linkeddatafragments.org/")}).then((A=>Promise.all(A.map((async A=>({heading:Number(A.get("heading").value),timestamp:Date.parse(A.get("datetime").value),procedure:A.get("procedure")?e.fetchProcedure?await this.findProcedure(A.get("procedure").value):{uri:A.get("procedure").value}:void 0,deployment:A.get("deployment")?e.fetchDeployment?await this.findDeployment(A.get("deployment").value):{uri:A.get("deployment").value}:void 0})))))).then((A=>{t(A.filter((A=>void 0!==A)))})).catch(n)}))}async createPosition(A,e){const t=new Date,n=new j(this.service.getDocumentURL(A,`/properties/position.ttl#${t.getTime()}`).href);n.featuresOfInterest.push(this.me),n.resultTime=t,n.observedProperties.push(this.positionProperty);const r=new G;r.numericValue=e.accuracy,r.unit=Q.MD.METER;const o=new U;o.latitude=e.lnglat[1],o.longitude=e.lnglat[0],o.altitude=e.altitude,o.spatialAccuracy=r,e.deployment&&e.deployment.uri&&(o.inDeployment=e.deployment.uri),n.results.push(o),e.procedure&&e.procedure.uri&&n.usedProcedures.push(e.procedure.uri),await this.service.setThing(A,x.HW.serializeToSubjects(n)[0])}async createOrientation(A,e){const t=new Date,n=new j(this.service.getDocumentURL(A,`/properties/orientation.ttl#${t.getTime()}`).href);n.featuresOfInterest.push(this.me),n.resultTime=t,n.observedProperties.push(this.orientationProperty);const r=new G;r.unit=Q.KL.DEGREE,r.numericValue=e.heading,n.results.push(r),e.procedure&&e.procedure.uri&&n.usedProcedures.push(e.procedure.uri),await this.service.setThing(A,x.HW.serializeToSubjects(n)[0])}async createVelocity(A,e){const t=new Date,n=new j(this.service.getDocumentURL(A,`/properties/velocity.ttl#${t.getTime()}`).href);n.featuresOfInterest.push(this.me),n.resultTime=t,n.observedProperties.push(this.velocityProperty);const r=new G;r.unit=Q.hi.METER_PER_SECOND,r.numericValue=e.speed,n.results.push(r),e.procedure&&e.procedure.uri&&n.usedProcedures.push(e.procedure.uri),await this.service.setThing(A,x.HW.serializeToSubjects(n)[0])}}class FA{constructor(){(0,L.Z)(this,"service",void 0),this.service=new Q.J1(new Q.Zs(nA.HH))}initialize(){return new Promise(((A,e)=>{this.service.emitAsync("build").then((()=>Promise.all(Object.keys(n).map((A=>{const e=n[A];return this.service.insertObject(e)}))))).then((()=>{A()})).catch(e)}))}findByUID(A){return this.service.findByUID(A)}findByURI(A){if(A.startsWith(V)){const e=A.replace(V,"");return this.findByUID(e)}return Promise.reject("Not a valid QR-code!")}getGeographicalPosition(A){const e=A.toPosition(),t=rA.transform(e);return t.accuracy=e.accuracy,t}findAll(){return this.service.findAll()}}var BA=t(43464),RA=t.p+"media/beep-02.ca66a0d4.mp3",ZA="data:audio/mpeg;base64,SUQzAwAAAAAAJlRQRTEAAAAcAAAAU291bmRKYXkuY29tIFNvdW5kIEVmZmVjdHMA//uSwAAAAAABLBQAAAL9Q+IPK0ACAAAAAAAAo8DLR2Axkf/A26eQONlnwMtCADLZD8D/qQAjn4GTFgacWG4/xGgYhCw4DJAP/BzgBQMBnBQDVQBoV/+BnBQB1gEQIDLBgDpAcF//gBEAFFAn8MSBYoOsk///xzhWoWzCgMQRAOFgobDpQCh////gWRh7oBQsCR8UUGx8CQseBBMOXKH///7N1niNGWD1A8wsoLKAWCCcgbGARDBOQNjAFhgt3////////+FsAtIHsToHqMXCOIKJ3FGAQBQZCIbEgbDYSDiaEgNPD0MpCCOSi7MXBHXkpsYwBgYvhKQBWYqBA5VUKg8YdA4YrAIND7zI4qkaNmjMgwTVpQUENmtNGNNYjMulMnBpddTjMyrNinAS8GzzcJAEVMol/WVYhDmVLgJGX5MOPBhYxQ4Oghj8rF7/94gJGLGAqDBRMDIGErJSDBS8INmKHDoTHX/+SV4KCNQd8tolZOK3JuDgYcABANM5AFl//+OJagDAFYFkFkEBjBi4BehP8HCwcyAyQFAB0FFQMMAgDf/7ksBmgCYVe2253SQEl69uNzmmgGX/llvH0m0qEBgcDbIpYDgb5u4XHUvLhsLjbIU/WRpIKEqw0bQP/H///1/z5Z8tGtdRcsmhWxEs+XTTgQzL1hwBo4YVAQ8GgyAK7iCcdAgAMhgnCj8jswQODjw+v9yP/pjhSKgAEBAQFg0FgMGEwmg0GWSUbIZh9sJmLx27TtGfg8RBcxISwg/O9owQIDEgGMpgQWEdNLjltzQjwGjOiS+sPAzToTRpTVpjDqRkPTfkAnZmBSsKG5k1hh6piIZlCuX6yNMeMsQEgjKAIEMKBCocEERY0NIv1l+kKDFg0N54DAyyadZQHDixhwAhBrTy/WX+JA0FHhV2YwMBgi/ACEGSYgHpelwxUKFBeX6y/8lhC/iSAGFrXuAIGWnT7FgxWJUDSaEiQKFIhrDlsv/L/y/8mmPGwcBBEADyKkRMVgQBvOWCIgHsBQnjokKC0Rh4ehmjkJFv/X/r/1/0hbdAOyecaW08tAppIFSJCL0Trk4OJKHrHMCAHA4iDx1VMqBxAFV0gejOmMLDmKCENmP/+5LAAYAXOX2DubekAv6zLic08EhRyOR2OxttxyMR1BOn8cgcDxW7NIjghQYUFggLt5MzbcmCBYGx0KWXwAiJPCuqDwT4lQhpKIlbTras0bYsxdzglzS8VnxaIQU9C5kuP21cY3eHPEeVOQ6S/ItiP3WsZ/vHtEeZjpCKhyTZ1CmN///s8kRkljucCJAUSdeqlXMTthrjP18ZxEh7j01EvvdFy4PlMzulbAc1dL//////q/xrd90pW98RGFqfsTawMr5jjMLVViwlbKgARRyTyihjyj8unPegY0d+ATJebEhClgQPUF/0M2yIE0kPw6i0CHB2f8MMwyoFzLqqv/zhF6McTQFILsXEWP//ncfqPR5oJNDjEUid///T6GqpCFYpzjU7chikXf///hMzgr2tqmUavXnBkX3L////pVC0MUytVarTjej1I4KhPv1GnNf////9lcmSA32cnBna4TgxwnJgguLPR2yf//////9waFewMT1nfsENlclY2N8d0q3jMyMatc2BmdM712AAIEIIcBAIBQIFAPHhxmRnihxA6gP+//uSwAsAF+GZiVmnhpMJszC3NPDQAkgkXTrCCn+mghomY2n4NMuhbxef8fgpaQHgEfKP/8KwCXRQ/D1GSDLFf//5Y3yoMuMYiEq1QHh//+yHW7iIe5oFRuKNOdF///+ijZ8K9n2vxV2u1A4q3/H+f+r2fbGzx37PHgMipZ8srOr2//////qc62drQ9VtqHqt6h8SG1qyIywoDi5x////////Hq/jzP480OPNDjxIbCznWn05O3n4pHTM3OCPWwAAwWBAYDQYA6HjAYDK1oFDjQJB+2Xjy8MQF8wsPFiX+7zLBY0gd+APwkYhYx/+OsyGsCEGKDN//QsFQJocA5XEd4bP//c2xUC5k7LIsRjHRC///c9Q2c6FAaSNOl6oHGv//tExAiHWr46dRC6swLhTf/1r/7sbOdCgiPGBwVKVWJmg6WJTU/////51q+d+xuagZNPGCMplMu3F4xtqhaXL///////xFG/2/Y46siaeMERXx7uaqVyna7N65YYznDhOQAwCAgEAkIgiESwoRAIaaVAELEYEfQvES9Gtl0AgAAAeQP/7ksAQgBmJmXm5t4SDEDMu6zlAEgOqynasYsEoBq8IOeg9QV1s6LALAkwBKF6Bo4zrA6wY5sD8BZD2ECDZzr50ZC+q0Lai/k1JkpCxf//s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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/+5LApgAAAAEsAAAAAAAAJYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uSwP+AAAABLAAAAAAAACWAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/7ksD/gAAAASwAAAAAAAAlgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/+5LA/4AAAAEsAAAAAAAAJYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uSwP+AAAABLAAAAAAAACWAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/7ksD/gAAAASwAAAAAAAAlgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/+5LA/4AAAAEsAAAAAAAAJYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAA//uSwP+AAAABLAAAAAAAACWAAAAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAAA==",NA=t(25108);const LA=V+"qrscanner_checkin",_A=V+"qrscanner_checkout";var QA={name:"ScannerComponent",components:{LoginModal:C,MenuComponent:N,QrcodeStream:BA.QrcodeStream},data(){return{title:"IPIN2022 QR-scanner",controller:null,buildingController:null,qr:void 0,camera:"off",processing:!1}},beforeMount(){this.controller=new OA(this.title),this.buildingController=new FA,this.buildingController.initialize().then((()=>{})).catch(NA.error)},methods:{onDecode(A){this.buildingController.findByURI(A).then((A=>(this.qr=A.displayName,new Audio(RA).play(),this.camera="off",this.processing=!0,Promise.all([A,this.controller.findAllPositions(this.controller.getSession(),{procedure:[LA,_A],limit:1,fetchAccuracy:!1,fetchProcedure:!1,fetchDeployment:!1})])))).then((([A,e])=>{let t=LA;if(e.length>0){const n=e[0];n.procedure&&n.procedure.uri===LA&&n.deployment&&-1!==n.deployment.uri.indexOf(A.uid)&&(t=_A)}const n=this.buildingController.getGeographicalPosition(A);this.controller.updatePosition({lnglat:[n.longitude,n.latitude],accuracy:n.accuracy.value,altitude:n.altitude,procedure:{uri:t},deployment:{uri:V+A.uid}}),this.processing=!1})).catch((A=>{NA.error(A),this.qr=void 0,this.processing=!1,new Audio(ZA).play()}))},paintOutline(A,e){for(const t of A){const[A,...n]=t.cornerPoints;e.strokeStyle=this.qr?"green":"red",e.lineWidth=10,e.beginPath(),e.moveTo(A.x,A.y);for(const{x:t,y:a}of n)e.lineTo(t,a);e.lineTo(A.x,A.y),e.closePath(),e.stroke();const{boundingBox:r}=t,o=r.x+r.width/2,i=r.y+r.height/2,s=Math.max(20,50*r.width/e.canvas.width);e.font=`bold ${s}px sans-serif`,e.textAlign="center",e.fillStyle=e.strokeStyle,e.fillText(this.qr??"Error",o,i)}}}},MA=QA,qA=t(1001),xA=(0,qA.Z)(MA,i,s,!1,null,"3a8b5b8b",null),TA=xA.exports,JA={name:"App",components:{ScannerComponent:TA}},jA=JA,GA=(0,qA.Z)(jA,r,o,!1,null,null,null),kA=GA.exports},90733:function(A,e,t){"use strict";const n=t(70655),r=(0,n.__importDefault)(t(20144)),o=(0,n.__importDefault)(t(30589)),i=(0,n.__importDefault)(t(47376));r.default.config.productionTip=!1,r.default.use(o.default,{defaultIconPack:"fa"}),new r.default({render:A=>A(i.default)}).$mount("#app")},47412:function(){},47714:function(){},55843:function(){},95260:function(){},33587:function(){},60939:function(){},61324:function(){},81200:function(){},52361:function(){},94616:function(){}},e={};function t(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={id:n,loaded:!1,exports:{}};return A[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}t.m=A,t.c=e,function(){var A=[];t.O=function(e,n,r,o){if(!n){var i=1/0;for(c=0;c<A.length;c++){n=A[c][0],r=A[c][1],o=A[c][2];for(var s=!0,a=0;a<n.length;a++)(!1&o||i>=o)&&Object.keys(t.O).every((function(A){return t.O[A](n[a])}))?n.splice(a--,1):(s=!1,o<i&&(i=o));if(s){A.splice(c--,1);var d=r();void 0!==d&&(e=d)}}return e}o=o||0;for(var c=A.length;c>0&&A[c-1][2]>o;c--)A[c]=A[c-1];A[c]=[n,r,o]}}(),function(){t.n=function(A){var e=A&&A.__esModule?function(){return A["default"]}:function(){return A};return t.d(e,{a:e}),e}}(),function(){var A,e=Object.getPrototypeOf?function(A){return Object.getPrototypeOf(A)}:function(A){return A.__proto__};t.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var o=Object.create(null);t.r(o);var i={};A=A||[null,e({}),e([]),e(e)];for(var s=2&r&&n;"object"==typeof s&&!~A.indexOf(s);s=e(s))Object.getOwnPropertyNames(s).forEach((function(A){i[A]=function(){return n[A]}}));return i["default"]=function(){return n},t.d(o,i),o}}(),function(){t.d=function(A,e){for(var n in e)t.o(e,n)&&!t.o(A,n)&&Object.defineProperty(A,n,{enumerable:!0,get:e[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(A){if("object"===typeof window)return window}}()}(),function(){t.o=function(A,e){return Object.prototype.hasOwnProperty.call(A,e)}}(),function(){t.r=function(A){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0})}}(),function(){t.nmd=function(A){return A.paths=[],A.children||(A.children=[]),A}}(),function(){t.p=""}(),function(){var A={826:0};t.O.j=function(e){return 0===A[e]};var e=function(e,n){var r,o,i=n[0],s=n[1],a=n[2],d=0;if(i.some((function(e){return 0!==A[e]}))){for(r in s)t.o(s,r)&&(t.m[r]=s[r]);if(a)var c=a(t)}for(e&&e(n);d<i.length;d++)o=i[d],t.o(A,o)&&A[o]&&A[o][0](),A[o]=0;return t.O(c)},n=self["webpackChunkipin2022_qrscanner"]=self["webpackChunkipin2022_qrscanner"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=t.O(void 0,[998],(function(){return t(t.s=90733)}));n=t.O(n)})();
//# sourceMappingURL=index.91a87ee1.js.map